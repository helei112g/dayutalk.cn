<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="He Lei">
  <!-- Open Graph Data -->
  <meta property="og:title" content="vagrant系列四：Vagrant搭建redis与redis的监控程序redis-stat"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="大愚的博客｜与你把酒言诗"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://helei112g.github.ioundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="大愚的博客｜与你把酒言诗" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>大愚的博客｜与你把酒言诗</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-79844617-1', 'auto');
        ga('send', 'pageview');
    </script>


</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">vagrant系列四：Vagrant搭建redis与redis的监控程序redis-stat</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/helei112g">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:dayugog@gmail.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By He Lei</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2016-10-30</span>
            <span class="time">12:18:09</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/工具学习/">工具学习</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/vagrant/">#vagrant</a> <a class="tag" href="/tags/linxu/">#linxu</a> <a class="tag" href="/tags/redis/">#redis</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>redis经常会被用到<br><a id="more"></a></p>
<p><strong>重要提示，从3.2版本后，redis需要设置密码才能够被外部网络访问。</strong><br>所以如果你发现可以链接上redis，但是无法写入或者读取那么请检查是否使用了密码方式。</p>
<h1 id="redis的安装"><a href="#redis的安装" class="headerlink" title="redis的安装"></a>redis的安装</h1><p>哎，写到这儿，说一句，诅咒联通这网络，联通网络一上，打开vpn，照样不能访问外网，联baidu都一卡一卡的。</p>
<p>redis就不用yum来进行安装了。直接从官方下载来安装吧。(老实说，我也不知道yum里边有没有redis的最新版)</p>
<h2 id="下载redis"><a href="#下载redis" class="headerlink" title="下载redis"></a>下载redis</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget -c http://download.redis.io/releases/redis-3.0.7.tar.gz</span><br></pre></td></tr></table></figure>
<p>当然你也可以到<a href="http://redis.io/download" target="_blank" rel="external">redis官网</a> 下载最新的版本。当然个人建议，开发中还是使用稳定版本吧！<br><img src="http://img.blog.csdn.net/20160412233549976" alt="这里写图片描述"></p>
<h2 id="解压redis"><a href="#解压redis" class="headerlink" title="解压redis"></a>解压redis</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf redis-3.0.7.tar.gz</span><br></pre></td></tr></table></figure>
<p>这个命令什么意思，我就不多说了，如果不清楚的同学，建议平时还是多积累点linux的命令知识额。加薪升职的利器额。<br><img src="http://img.blog.csdn.net/20160412233743743" alt="这里写图片描述"></p>
<h2 id="编译安装redis"><a href="#编译安装redis" class="headerlink" title="编译安装redis"></a>编译安装redis</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd redis-3.0.7</span><br><span class="line">$ make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>进入到解压后的目录，然后执行编译，然后安装。</p>
<p><img src="http://img.blog.csdn.net/20160412233953683" alt="这里写图片描述"></p>
<p>OK，至此，我们的redis安装还没有完额，其实好玩儿的才刚刚开始呢。</p>
<h2 id="配置redis"><a href="#配置redis" class="headerlink" title="配置redis"></a>配置redis</h2><p>创建redis 配置文件夹。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$　mkdir /etc/redis</span><br></pre></td></tr></table></figure></p>
<p>在/var/lib/redis 下创建有效的保存数据的目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$　mkdir -p /var/lib/redis/6379</span><br></pre></td></tr></table></figure></p>
<p>redis.conf 是 redis 的配置文件，然而你会看到我们会把这个文件的名字改为 6379.conf ，而这个数字就是 redis 监听的网络端口。如果你想要运行超过一个的 redis 实例，推荐用这样的名字。</p>
<p>复制示例的 redis.conf 到 /etc/redis/6379.conf。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp redis.conf /etc/redis/6379.conf</span><br></pre></td></tr></table></figure></p>
<p>修改的内容如下：</p>
<blockquote>
<p>设置 daemonize 为 no，systemd 需要它运行在前台，否则 redis 会突然挂掉。<br>daemonize yes</p>
<p>设置 pidfile 为 /var/run/redis_6379.pid。<br>pidfile /var/run/redis_6379.pid</p>
<p>如果不准备用默认端口，可以修改。<br>port 6379</p>
<p>设置日志级别。<br>loglevel debug</p>
<p>修改日志文件路径。<br>logfile /var/log/redis_6379.log</p>
<p>设置目录为 /var/lib/redis/6379<br>dir /var/lib/redis/6379</p>
</blockquote>
<p>redis配置文件，各项的详解<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><span class="line">######################### 通用 #########################</span><br><span class="line"></span><br><span class="line"># 启动后台进程</span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"># 后台进程的pid文件存储位置</span><br><span class="line">pidfile /var/run/redis.pid</span><br><span class="line"></span><br><span class="line"># 默认监听端口</span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"># 在高并发的环境中，为避免慢客户端的连接问题，需要设置一个高速后台日志</span><br><span class="line">tcp-backlog 511</span><br><span class="line"></span><br><span class="line"># 只接受以下绑定的IP请求</span><br><span class="line"># Examples:</span><br><span class="line"># bind 192.168.1.100 10.0.0.1</span><br><span class="line">bind 127.0.0.1</span><br><span class="line"></span><br><span class="line"># 设置unix监听，默认为空</span><br><span class="line"># unixsocket /tmp/redis.sock</span><br><span class="line"># unixsocketperm 700</span><br><span class="line"></span><br><span class="line">#客户端空闲多长时间，关闭链接，0表示不关闭</span><br><span class="line">timeout 0</span><br><span class="line"></span><br><span class="line"># TCP keepalive.</span><br><span class="line"># 如果是非零值，当失去链接时，会使用SO_KEEPALIVE发送TCP ACKs 到客户端。</span><br><span class="line"># 这个参数有两个作用:</span><br><span class="line"># 1.检测断点。</span><br><span class="line"># 2.从网络中间设备来看，就是保持链接</span><br><span class="line"># 在Linux上，设定的时间就是发送ACKs的周期。</span><br><span class="line"># 注意：达到双倍的设定时间才会关闭链接。在其他内核上，周期依赖于内核设置。</span><br><span class="line"># 一个比较合理的值为60s</span><br><span class="line">tcp-keepalive 0</span><br><span class="line"></span><br><span class="line"># 指定日志级别，以下记录信息依次递减</span><br><span class="line"># debug用于开发/测试</span><br><span class="line"># verbose没debug那么详细</span><br><span class="line"># notice适用于生产线</span><br><span class="line"># warning只记录非常重要的信息</span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line">#日志文件名称，如果为stdout则输出到标准输出端，如果是以后台进程运行则不产生日志</span><br><span class="line">logfile &quot;&quot;</span><br><span class="line"></span><br><span class="line"># 要想启用系统日志记录器，设置一下选项为yes</span><br><span class="line"># syslog-enabled no</span><br><span class="line"></span><br><span class="line"># 指明syslog身份</span><br><span class="line"># syslog-ident redis</span><br><span class="line"></span><br><span class="line"># 指明syslog设备。必须是一个用户或者是local0 ~ local7之一</span><br><span class="line"># syslog-facility local0</span><br><span class="line"></span><br><span class="line">#设置数据库数目，第一个数据库编号为：0</span><br><span class="line">databases 16</span><br><span class="line"></span><br><span class="line">######################### 快照 #########################</span><br><span class="line"></span><br><span class="line"># 在什么条件下保存数据库到磁盘，条件可以有很多个，满足任何一个条件都会进行快照存储</span><br><span class="line"># 在900秒之内有一次key的变化</span><br><span class="line">save 900 1</span><br><span class="line"># 在300秒之内，有10个key的变化</span><br><span class="line">save 300 10</span><br><span class="line"># 在60秒之内有10000个key变化</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"># 当持久化失败的时候，是否继续提供服务</span><br><span class="line">stop-writes-on-bgsave-error yes</span><br><span class="line"></span><br><span class="line"># 当写入磁盘时，是否使用LZF算法压缩数据，默认为yes</span><br><span class="line">rdbcompression yes</span><br><span class="line"></span><br><span class="line"># 是否添加CRC64校验到每个文件末尾--花费时间保证安全</span><br><span class="line">rdbchecksum yes</span><br><span class="line"></span><br><span class="line"># 磁盘上数据库的保存名称</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line"># Redis工作目录，以上数据库保存文件和AOF日志都会写入此目录</span><br><span class="line">dir ./</span><br><span class="line"></span><br><span class="line">######################### 主从同步 #########################</span><br><span class="line"></span><br><span class="line"># 主从复制，当本机是slave时配置</span><br><span class="line"># slaveof &lt;masterip&gt; &lt;masterport&gt;</span><br><span class="line"></span><br><span class="line"># 当主机需要密码验证时候配置</span><br><span class="line"># masterauth &lt;master-password&gt;</span><br><span class="line"></span><br><span class="line"># 当slave和master丢失链接，或正处于同步过程中。是否响应客户端请求</span><br><span class="line"># 设置为yes表示响应</span><br><span class="line"># 设置为no，直接返回&quot;SYNC with master in progress&quot;（正在和主服务器同步中）</span><br><span class="line">slave-serve-stale-data yes</span><br><span class="line"></span><br><span class="line"># 设置slave是否为只读。</span><br><span class="line"># 注意：即使slave设置为只读，也不能令其暴露在不受信任的网络环境中</span><br><span class="line">slave-read-only yes</span><br><span class="line"></span><br><span class="line"># 无硬盘复制功能</span><br><span class="line">repl-diskless-sync no</span><br><span class="line"></span><br><span class="line"># 等待多个slave一起来请求之间的间隔时间</span><br><span class="line">repl-diskless-sync-delay 5</span><br><span class="line"></span><br><span class="line"># 设置slave给master发送ping的时间间隔</span><br><span class="line"># repl-ping-slave-period 10</span><br><span class="line"></span><br><span class="line"># 设置数据传输I/O，主机数据、ping响应超时时间，默认60s</span><br><span class="line"># 这个时间一定要比repl-ping-slave-period大，否则会不断检测到超时</span><br><span class="line"># repl-timeout 60</span><br><span class="line"></span><br><span class="line"># 是否在SYNC后slave socket上禁用TCP_NODELAY？</span><br><span class="line"># 如果你设置为yes，Redis会使用少量TCP报文和少量带宽发送数据给slave。</span><br><span class="line"># 但是这样会在slave端出现延迟。如果使用Linux内核的默认设置，大概40毫秒。</span><br><span class="line"># 如果你设置为no，那么在slave端研究就会减少但是同步带宽要增加。</span><br><span class="line"># 默认我们是为低延迟优化的。</span><br><span class="line"># 但是如果流量特别大或者主从服务器相距比较远，设置为yes比较合理。</span><br><span class="line">repl-disable-tcp-nodelay no</span><br><span class="line"></span><br><span class="line"># 设置复制的后台日志大小。</span><br><span class="line"># 复制的后台日志越大， slave 断开连接及后来可能执行部分复制花的时间就越长。</span><br><span class="line"># 后台日志在至少有一个 slave 连接时，仅仅分配一次。</span><br><span class="line"># repl-backlog-size 1mb</span><br><span class="line"></span><br><span class="line"># 在 master 不再连接 slave 后，后台日志将被释放。下面的配置定义从最后一个 slave 断开连接后需要释放的时间（秒）。</span><br><span class="line"># 0 意味着从不释放后台日志</span><br><span class="line"># repl-backlog-ttl 3600</span><br><span class="line"></span><br><span class="line"># 设置slave优先级，默认为100</span><br><span class="line"># 当主服务器不能正确工作的时候，数字低的首先被提升为主服务器，但是0是禁用选择</span><br><span class="line">slave-priority 100</span><br><span class="line"></span><br><span class="line"># 如果少于 N 个 slave 连接，且延迟时间 &lt;=M 秒，则 master 可配置停止接受写操作。</span><br><span class="line"># 例如需要至少 3 个 slave 连接，且延迟 &lt;=10 秒的配置：</span><br><span class="line"># min-slaves-to-write 3</span><br><span class="line"># min-slaves-max-lag 10</span><br><span class="line"># 设置 0 为禁用</span><br><span class="line"># 默认 min-slaves-to-write 为 0 （禁用）， min-slaves-max-lag 为 10</span><br><span class="line"></span><br><span class="line">######################### 安全 #########################</span><br><span class="line"></span><br><span class="line"># 设置客户端连接密码，因为Redis响应速度可以达到每秒100w次，所以密码要特别复杂</span><br><span class="line"># requirepass 1413</span><br><span class="line"></span><br><span class="line"># 命令重新命名，或者禁用。</span><br><span class="line"># 重命名命令为空字符串可以禁用一些危险命令比如：FLUSHALL删除所有数据</span><br><span class="line"># 需要注意的是，写入AOF文件或传送给slave的命令别名也许会引起一些问题</span><br><span class="line"># rename-command CONFIG &quot;&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 设置客户端连接密码，因为Redis响应速度可以达到每秒100w次，所以密码要特别复杂</span><br><span class="line">requirepass 1413</span><br><span class="line"></span><br><span class="line"># 命令重新命名，或者禁用。</span><br><span class="line"># 重命名命令为空字符串可以禁用一些危险命令比如：FLUSHALL删除所有数据</span><br><span class="line"># 需要注意的是，写入AOF文件或传送给slave的命令别名也许会引起一些问题</span><br><span class="line"># rename-command CONFIG &quot;&quot;</span><br><span class="line"></span><br><span class="line">######################### 限制 #########################</span><br><span class="line"></span><br><span class="line"># 设置最多链接客户端数量，默认为10000。</span><br><span class="line"># 实际可以接受的请求数目为设置值减去32，这32是Redis为内部文件描述符保留的</span><br><span class="line"># maxclients 10000</span><br><span class="line"></span><br><span class="line"># 设置最多链接客户端数量，默认为10000。</span><br><span class="line"># 实际可以接受的请求数目为设置值减去32，这32是Redis为内部文件描述符保留的</span><br><span class="line"># maxclients 10000</span><br><span class="line"># 设置最大使用内存数量，在把Redis当作LRU缓存时特别有用。</span><br><span class="line"># 设置的值要比系统能使用的值要小</span><br><span class="line"># 因为当启用删除算法时，slave输出缓存也要占用内存</span><br><span class="line"># maxmemory &lt;bytes&gt;</span><br><span class="line"></span><br><span class="line">#达到最大内存限制时，使用何种删除算法</span><br><span class="line"># volatile-lru  使用LRU算法移除带有过期标致的key</span><br><span class="line"># allkeys-lru -&gt; 使用LRU算法移除任何key</span><br><span class="line"># volatile-random -&gt; 随机移除一个带有过期标致的key</span><br><span class="line"># allkeys-random -&gt;  随机移除一个key</span><br><span class="line"># volatile-ttl -&gt; 移除最近要过期的key</span><br><span class="line"># noeviction -&gt; 不删除key，当有写请求时，返回错误</span><br><span class="line">#默认设置为volatile-lru</span><br><span class="line"># maxmemory-policy noeviction</span><br><span class="line"></span><br><span class="line"># LRU和最小TTL算法没有精确的实现</span><br><span class="line"># 为了节省内存只在一个样本范围内选择一个最近最少使用的key，可以设置这个样本大小</span><br><span class="line"># maxmemory-samples 5</span><br><span class="line"></span><br><span class="line">######################### AO模式 #########################</span><br><span class="line"></span><br><span class="line"># AOF和RDB持久化可以同时启用</span><br><span class="line"># Redis启动时候会读取AOF文件，AOF文件有更好的持久化保证</span><br><span class="line">appendonly no</span><br><span class="line"></span><br><span class="line"># AOF的保存名称，默认为appendonly.aof</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line"></span><br><span class="line"># 设置何时写入追加日志，又三种模式</span><br><span class="line"># no：表示由操作系统决定何时写入。性能最好，但可靠性最低</span><br><span class="line"># everysec：表示每秒执行一次写入。折中方案，推荐</span><br><span class="line"># always：表示每次都写入磁盘。性能最差，比上面的安全一些</span><br><span class="line"># appendfsync always</span><br><span class="line">appendfsync everysec</span><br><span class="line"># appendfsync no</span><br><span class="line"></span><br><span class="line"># 当AOF同步策略设定为alway或everysec</span><br><span class="line"># 当后台存储进程（后台存储或者AOF日志后台写入）会产生很多磁盘开销</span><br><span class="line"># 某些Linux配置会使Redis因为fsync()调用产生阻塞很久</span><br><span class="line"># 现在还没有修复补丁，甚至使用不同线程进行fsync都会阻塞我们的同步write(2)调用。</span><br><span class="line"># 为了缓解这个问题，使用以下选项在一个BGSAVE或BGREWRITEAOF运行的时候</span><br><span class="line"># 可以阻止fsync()在主程序中被调用，</span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line"></span><br><span class="line"># AOF自动重写（合并命令，减少日志大小）</span><br><span class="line"># 当AOF日志大小增加到一个特定比率，Redis调用BGREWRITEAOF自动重写日志文件</span><br><span class="line"># 原理：Redis 会记录上次重写后AOF文件的文件大小。</span><br><span class="line"># 如果刚启动，则记录启动时AOF大小</span><br><span class="line"># 这个基本大小会用来和当前大小比较。如果当前大小比特定比率大，就会触发重写。</span><br><span class="line"># 你也需要指定一个AOF需要被重写的最小值，这样会避免达到了比率。</span><br><span class="line"># 但是AOF文件还很小的情况下重写AOF文件。</span><br><span class="line"># 设置为0禁用自动重写</span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br><span class="line"></span><br><span class="line">#redis在启动时可以加载被截断的AOF文件，而不需要先执行 redis-check-aof 工具</span><br><span class="line">aof-load-truncated yes</span><br><span class="line"></span><br><span class="line">######################### LUA脚本 #########################</span><br><span class="line"></span><br><span class="line"># Lua脚本的最大执行时间，单位毫秒</span><br><span class="line"># 超时后会报错，并且计入日志</span><br><span class="line"># 当一个脚本运行时间超过了最大执行时间</span><br><span class="line"># 只有SCRIPT KILL和 SHUTDOWN NOSAVE两个命令可以使用。</span><br><span class="line"># SCRIPT KILL用于停止没有调用写命令的脚本。</span><br><span class="line"># SHUTDOWN NOSAVE是唯一的一个，在脚本的写命令正在执行</span><br><span class="line"># 用户又不想等待脚本的正常结束的情况下，关闭服务器的方法。</span><br><span class="line"># 以下选项设置为0或负数就会取消脚本执行时间限制</span><br><span class="line">lua-time-limit 5000</span><br><span class="line"></span><br><span class="line">####################### redis集群  ########################</span><br><span class="line"></span><br><span class="line"># 是否启用集群</span><br><span class="line"># cluster-enabled yes</span><br><span class="line"></span><br><span class="line"># 集群配置文件</span><br><span class="line"># 集群配置变更后会自动写入改文件</span><br><span class="line"># cluster-config-file nodes-6379.conf</span><br><span class="line"></span><br><span class="line"># 节点互连超时的阀值 </span><br><span class="line"># 节点超时时间，超过该时间无法连接主要Master节点后，会停止接受查询服务 </span><br><span class="line"># cluster-node-timeout 15000</span><br><span class="line"></span><br><span class="line"># 控制从节点FailOver相关的设置,设为0，从节点会一直尝试启动FailOver.</span><br><span class="line"># 设为正数，失联大于一定时间（factor*节点TimeOut），不再进行FailOver</span><br><span class="line"># cluster-slave-validity-factor 10</span><br><span class="line"></span><br><span class="line"># 最小从节点连接数</span><br><span class="line"># cluster-migration-barrier 1</span><br><span class="line"></span><br><span class="line"># 默认为Yes,丢失一定比例Key后（可能Node无法连接或者挂掉），集群停止接受写操作</span><br><span class="line"># 设置为No，集群丢失Key的情况下仍提供查询服务</span><br><span class="line"># cluster-require-full-coverage yes</span><br><span class="line"></span><br><span class="line">######################### 慢查询 #########################</span><br><span class="line"></span><br><span class="line"># Redis慢查询日志记录超过设定时间的查询，且只记录执行命令的时间</span><br><span class="line"># 不记录I/O操作，比如：和客户端交互，发送回复等。</span><br><span class="line"># 时间单位为微妙，1000000微妙 = 1 秒</span><br><span class="line"># 设置为负数会禁用慢查询日志，设置为0会记录所有查询命令</span><br><span class="line">slowlog-log-slower-than 10000</span><br><span class="line"></span><br><span class="line"># 日志长度没有限制，但是会消耗内存。超过日志长度后，最旧的记录会被移除</span><br><span class="line"># 使用SLOWLOG RESET命令可以回收内存</span><br><span class="line">slowlog-max-len 128</span><br><span class="line"></span><br><span class="line">######################### 延迟监测 #########################</span><br><span class="line"></span><br><span class="line"># 系统只记录超过设定值的操作，单位是毫秒，0表示禁用该功能  </span><br><span class="line"># 可以通过命令“CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;” 直接设置而不需要重启redis  </span><br><span class="line">latency-monitor-threshold 0</span><br><span class="line"></span><br><span class="line">######################### 事件通知 #########################</span><br><span class="line">#  当事件发生时， Redis 可以通知 Pub/Sub 客户端。</span><br><span class="line">#  可以在下表中选择 Redis 要通知的事件类型。事件类型由单个字符来标识：</span><br><span class="line"># K     Keyspace 事件，以 _keyspace@&lt;db&gt;_ 的前缀方式发布</span><br><span class="line"># E     Keyevent 事件，以 _keysevent@&lt;db&gt;_ 的前缀方式发布</span><br><span class="line"># g     通用事件（不指定类型），像 DEL, EXPIRE, RENAME, …</span><br><span class="line"># $     String 命令</span><br><span class="line"># s     Set 命令</span><br><span class="line"># h     Hash 命令</span><br><span class="line"># z     有序集合命令</span><br><span class="line"># x     过期事件（每次 key 过期时生成）</span><br><span class="line"># e     清除事件（当 key 在内存被清除时生成）</span><br><span class="line"># A     g$lshzxe 的别称，因此 ”AKE” 意味着所有的事件</span><br><span class="line"># notify-keyspace-events 带一个由 0 到多个字符组成的字符串参数。空字符串意思是通知被禁用。</span><br><span class="line">#  例子：启用 list 和通用事件：</span><br><span class="line"># notify-keyspace-events Elg</span><br><span class="line">#  默认所用的通知被禁用，因为用户通常不需要改特性，并且该特性会有性能损耗。</span><br><span class="line">#  注意如果你不指定至少 K 或 E 之一，不会发送任何事件。</span><br><span class="line">notify-keyspace-events &quot;&quot;</span><br><span class="line">#notify-keyspace-events AKE</span><br><span class="line"></span><br><span class="line">######################### 高级设置 #########################</span><br><span class="line"></span><br><span class="line"># 当有少量条目的时候，哈希使用高效内存数据结构。最大的条目也不能超过设定的阈值。# “少量”定义如下：</span><br><span class="line">hash-max-ziplist-entries 512</span><br><span class="line">hash-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"># 和哈希编码一样，少量列表也以特殊方式编码节省内存。“少量”设定如下：</span><br><span class="line">list-max-ziplist-entries 512</span><br><span class="line">list-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"># 集合只在以下情况下使用特殊编码来节省内存</span><br><span class="line"># --&gt;集合全部由64位带符号10进制整数构成的字符串组成</span><br><span class="line"># 下面的选项设置这个特殊集合的大小。</span><br><span class="line">set-max-intset-entries 512</span><br><span class="line"></span><br><span class="line"># 当有序集合的长度和元素设定为以下数字时，又特殊编码节省内存</span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># HyperLogLog 稀疏表示字节限制</span><br><span class="line"># 这个限制包含了16个字节的头部，当一个HyperLogLog使用sparse representation</span><br><span class="line"># 超过了这个显示，它就会转换到dense representation上</span><br><span class="line">hll-sparse-max-bytes 3000</span><br><span class="line"></span><br><span class="line"># 哈希刷新使用每100个CPU毫秒中的1毫秒来帮助刷新主哈希表（顶级键值映射表）。</span><br><span class="line">#  Redis哈希表使用延迟刷新机制，越多操作，越多刷新。</span><br><span class="line"># 如果服务器空闲，刷新操作就不会进行，更多内存会被哈希表占用</span><br><span class="line"># 默认每秒进行10次主字典刷新，释放内存。</span><br><span class="line"># 如果你有硬性延迟需求，偶尔2毫秒的延迟无法忍受的话。设置为no</span><br><span class="line"># 否则设置为yes</span><br><span class="line">activerehashing yes</span><br><span class="line"></span><br><span class="line"># 客户端输出缓存限制强迫断开读取速度比较慢的客户端</span><br><span class="line"># 有三种类型的限制</span><br><span class="line"># normal -&gt; 正常</span><br><span class="line"># slave  -&gt; slave和 MONITOR</span><br><span class="line"># pubsub -&gt; 客户端至少订阅了一个频道或者模式</span><br><span class="line"># 客户端输出缓存限制语法如下（时间单位：秒）</span><br><span class="line"># client-output-buffer-limit &lt;类别&gt; &lt;强制限制&gt; &lt;软性限制&gt; &lt;软性时间&gt;</span><br><span class="line"># 达到强制限制缓存大小，立刻断开链接。</span><br><span class="line"># 达到软性限制，仍然会有软性时间大小的链接时间</span><br><span class="line"># 默认正常客户端无限制，只有请求后，异步客户端数据请求速度快于它能读取数据的速度</span><br><span class="line"># 订阅模式和主从客户端又默认限制，因为它们都接受推送。</span><br><span class="line"># 强制限制和软性限制都可以设置为0来禁用这个特性</span><br><span class="line">client-output-buffer-limit normal 0 0 0</span><br><span class="line">client-output-buffer-limit slave 256mb 64mb 60</span><br><span class="line">client-output-buffer-limit pubsub 32mb 8mb 60</span><br><span class="line"></span><br><span class="line"># 设置Redis后台任务执行频率，比如清除过期键任务。</span><br><span class="line"># 设置范围为1到500，默认为10.越大CPU消耗越大，延迟越小。</span><br><span class="line"># 建议不要超过100</span><br><span class="line">hz 10</span><br><span class="line"></span><br><span class="line"># 当子进程重写AOF文件，以下选项开启时，AOF文件会每产生32M数据同步一次。</span><br><span class="line"># 这有助于更快写入文件到磁盘避免延迟</span><br><span class="line">aof-rewrite-incremental-fsync yes</span><br></pre></td></tr></table></figure></p>
<p>##　redis开机自启动<br>复制redis的自启动脚本到init.d中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp utils/redis_init_script /etc/init.d/redis_6379</span><br></pre></td></tr></table></figure></p>
<p>这里说明一下哈，镜像还是前面用的CentOs7，所以有的命令稍微跟6不一样。建立一个redis的服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$　vim /etc/systemd/system/redis_6379.service</span><br></pre></td></tr></table></figure></p>
<p>然后输入下面的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Redis on port 6379</span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/etc/init.d/redis_6379 start</span><br><span class="line">ExecStop=/etc/init.d/redis_6379 stop</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>注意上面文件的目录，就是刚刚复制的目录，如果有多个redis，这里需要注意。</p>
<h2 id="系统参数的调整"><a href="#系统参数的调整" class="headerlink" title="系统参数的调整"></a>系统参数的调整</h2><p>为了让redis正常运行，需要对某些系统参数进行调整。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 避免数据被截断</span><br><span class="line">$　sysctl -w vm.overcommit_memory=1</span><br><span class="line"></span><br><span class="line"># 修改 backlog 连接数的最大值超过 redis.conf 中的 tcp-backlog 值，即默认值511</span><br><span class="line">$ sysctl -w net.core.somaxconn=512</span><br><span class="line"></span><br><span class="line"># 取消对透明巨页内存（transparent huge pages）的支持，因为这会造成 redis 使用过程产生延时和内存访问问题。</span><br><span class="line">$ echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br></pre></td></tr></table></figure></p>
<p>然后将以上配置，写入相关文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/sysctl.conf</span><br></pre></td></tr></table></figure></p>
<p>输入内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vm.overcommit_memory = 1</span><br><span class="line">net.core.somaxconn=512</span><br></pre></td></tr></table></figure></p>
<p>对于透明巨页内存支持，并没有直接 sysctl 命令可以控制，所以需要将下面的命令放到 /etc/rc.local 的结尾。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br></pre></td></tr></table></figure></p>
<p>通过以上配置，可以来启动redis服务了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl start redis_6379</span><br><span class="line"># 设置为开机启动</span><br><span class="line">$ systemctl enable redis_6379</span><br><span class="line"># 通过以下命令，查看redis的状态</span><br><span class="line">$ systemctl status redis_6379</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20160413105018714" alt="这里写图片描述"></p>
<p>然后使用客户端来进行测试一下redis服务是否正常，参见截图：<br><img src="http://img.blog.csdn.net/20160413105130090" alt="这里写图片描述"></p>
<h1 id="redis的监控redis-stat的安装"><a href="#redis的监控redis-stat的安装" class="headerlink" title="redis的监控redis-stat的安装"></a>redis的监控redis-stat的安装</h1><p>由于redis-stat是使用ruby开发的，在安装前，请确保你的环境已经有了ruby的环境，如果没有，请自行google、百度安装之，我就不写了哦。<br>由于ruby默认使用的镜像在国外，剩下的不说了，大家都懂得，然后万能的淘宝镜像，切换一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org/</span><br></pre></td></tr></table></figure></p>
<p>证据如下：<br><img src="http://img.blog.csdn.net/20160413105728889" alt="这里写图片描述"></p>
<p>然后开始安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem install redis-stat</span><br></pre></td></tr></table></figure></p>
<p>然后，一般来说，你会发现报错啦，报错如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Building native extensions.  This could take a while...</span><br><span class="line">ERROR:  Error installing redis-stat:</span><br><span class="line">	ERROR: Failed to build gem native extension.</span><br><span class="line"></span><br><span class="line">    /usr/bin/ruby extconf.rb</span><br><span class="line">mkmf.rb can&apos;t find header files for ruby at /usr/share/include/ruby.h</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Gem files will remain installed in /usr/local/share/gems/gems/json-1.8.3 for inspection.</span><br><span class="line">Results logged to /usr/local/share/gems/gems/json-1.8.3/ext/json/ext/generator/gem_make.out</span><br></pre></td></tr></table></figure></p>
<p>哈哈，，我好机智，想到大家很多人会搜索这个错误信息，会不会因此被带到这里呢？就像试试认真写的博客，会有多少人看。<br>这个错呢，很简单，就是因为没有安装ruby-devel，所有通过yum给安装上吧<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install ruby-devel</span><br></pre></td></tr></table></figure></p>
<p>这个就不要截图了吧。没什么好看的。</p>
<p>安装完成后，再次执行 <code>gem install redis-stat</code><br><img src="http://img.blog.csdn.net/20160413110515627" alt="这里写图片描述"></p>
<p>然后，至此安装完成，看一看劳动成果吧。随便说一句，它对redis的效率影响，基本可以忽略不计，因此，可以放心的使用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ redis-stat</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20160413110608484" alt="这里写图片描述"></p>
<p>然后，他会自带一个web的版本。大家可以通过浏览器来访问，具体方式留给大家自己去查一查，搜一搜吧。</p>
<p>单机版的redis服务安装与监控，就全部搞定。so easy！！！</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

